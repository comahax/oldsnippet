(function(C){var A=new Array();var E=new Array();var D=true;C.fn.extend({validation:function(H,F){var G;this.options=C.extend({},C.Validation.defaults,F);if(!C.isFunction(this.options.errFn)){this.options.errFn=C.Validation.showError}if(!C.isFunction(this.options.allErrsFn)){this.options.allErrsFn=C.Validation.allShowErrors}this.addInput=function(I){C.Validation.addInput(this,I,this.options)};if(!this.length){B("ajaxSubmit: skipping submit process - no element selected");return}G=new C.Validation(this,H,this.options);return this}});C.Validation=function(I,J,G){var H=this;var F=function(O,P){var L,N;if(C.isArray(P)){var M;for(M=0;M<P.length;M++){C.Validation.addInput(O,P[M],G)}}};var K=function(){F(I,J);if(D){I.unbind("keepSubmit");if(C.isFunction(I[0].onsubmit)){I.bind("keepSubmit",I[0].onsubmit)}else{I.bind("keepSubmit",function(){return true})}D=false}I[0].onsubmit="";I.unbind("check");I.bind("check",function(){return C.Validation.frmCheck(I,G)});I.unbind("submit");I.bind("submit",function(L){if(!I.triggerHandler("check")){return false}return I.triggerHandler("keepSubmit")})};K();return H};C.Validation.addInput=function(H,K,G){if(C.inArray(K.name,E)<0){var J=null;if(!K){return}J=H.find("[name='"+K.name+"']");var I=false;if(!C.isUndefined(K.typeCheck)){I=K.typeCheck}if(G.noShowStart!="1"&&!I){if(G._startLocation==1){J.after("<font id='fn_"+K.name+"n' color=red>&nbsp;*</font>")}else{J.before("<font id='fn_"+K.name+"n' color=red>&nbsp;*</font> ")}}if(C.isNumber(K.checkLength)){K.checkLength=(K.checkLength<0)?-1:K.checkLength}var F={obj:K.name,desc:K.desc,typeDesc:K.typeDesc,type:K.type,checkNullType:K.checkNullType,checkValue:K.checkValue,typeCheck:I};A.push(F);E.push(K.name)}};C.Validation.frmCheck=function(I,F){var H=0;var G=new Array();for(H=0;H<A.length;H++){var K=A[H];if(C.isString(K.type)){K.type=K.type.toLowerCase()}checkTar=I.find("[name='"+K.obj+"']");if(checkTar.length>0){if(K.typeCheck){var J=C.trim(checkTar.val());if(C.Validation.fIsNotEmptly(J)){if(!C.Validation.checkOne(checkTar,K)){if(!F.showAllErrors){F.errFn(checkTar,K);return false}else{G.push({checkTar:checkTar,checkSetObj:K})}}}}else{if(!C.Validation.checkOne(checkTar,K)){if(!F.showAllErrors){F.errFn(checkTar,K);return false}else{G.push({checkTar:checkTar,checkSetObj:K})}}}}}if(F.showAllErrors&&G.length>0){F.allErrsFn(G);return false}return true};C.Validation.checkOne=function(H,I){var G=C.trim(H.val());var F=I.type;if(F=="notnull"){if(!C.Validation.fIsNotEmptly(G)){return false}if(I.checkNullType=="length"){if(C.Validation.strlen(G)>I.checkValue){return false}}}else{if(F=="number"){if(!C.Validation.fIsNumeric(G)){return false}}else{if(F=="email"){if(!C.Validation.fIsEmail(G)){return false}}else{if(F=="idcard"){if(!C.Validation.fIsIDCard(G)){return false}}else{if(F=="mobile"){if(!C.Validation.fIsMobile(G)){return false}}else{if(F=="phone"){if(!C.Validation.fIsTel(G)){return false}}}}}}}return true};C.Validation.inputCheck=function(F){alert("check");return false};C.Validation.showError=function(F,G){alert(G.typeDesc);F.select()};C.Validation.allShowErrors=function(G){var F="";for(var H=0;H<G.length;H++){F+=G[H].checkSetObj.typeDesc+"\n"}alert(F)};C.Validation.fIsNumeric=function(G){var F=/^\d+(\.\d*)?$/;return(F.test(G))};C.Validation.fIsAllNumeric=function(G){var F=/^[-+]?\d+(\.\d*)?$/;return(F.test(G))};C.Validation.fisInteger=function(G){var F=/^\d+$/;return(F.test(G))};C.Validation.fIsEmail=function(G){var F=G.match(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/);if(F==null){return false}return true};C.Validation.fIsNotEmptly=function(F){if(F==null){return false}F.replace(/(^\s*)|(\s*$)/g,"");return(F!="")};C.Validation.fIsTel=function(G){var F=/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/;return(F.test(G))};C.Validation.fIsMobile=function(G){var H=/^1(34|35|36|37|38|39|47|50|51|52|57|58|59|87|88)[0-9]{8}$/;var F=H.exec(G);if(F==null){return false}return true};C.Validation.fIsPostCode=function(G){var F=/^\d{4,6}$/;return(F.test(G))};C.Validation.fIsIDCard=function(F){isIDCard1=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/;isIDCard2=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])(\d{4}|\d{3}[xX])$/;return(isIDCard1.test(F)||isIDCard2.test(F))};C.Validation.strlen=function(H){var F=0;for(var G=0;G<H.length;G++){if(H.charCodeAt(G)>255){F+=2}else{F++}}return F};C.Validation.debug=false;C.Validation.defaults={_startLocation:1,noShowStart:0,showAllErrors:false,errFn:C.Validation.showError,allErrsFn:C.Validation.allShowErrors};function B(){if(C.Validation.debug){if(window.console&&window.console.log){window.console.log("[jquery.validation] "+Array.prototype.join.call(arguments,""))}else{alert("[jquery.validation] "+Array.prototype.join.call(arguments,""))}}}})(jQuery);