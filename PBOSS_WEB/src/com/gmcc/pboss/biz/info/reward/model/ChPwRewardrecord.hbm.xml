<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping auto-import="false">
    <class name="com.gmcc.pboss.biz.info.reward.model.RewardRecord" table="CH_PW_REWARDRECORD">
        <id name="rewardlistid" type="java.lang.Long">
            <column name="REWARDLISTID" precision="14" scale="0" />
            <generator class="assigned" />
        </id>
        <property name="operseq" type="java.lang.Long">
            <column name="OPERSEQ" precision="14" scale="0" />
        </property>
        <property name="opnid" type="java.lang.String" insert="false" update="false">
            <column name="OPNID" length="18" />
        </property>
        <property name="wayid" type="java.lang.String">
            <column name="WAYID" length="18" />
        </property>
        <property name="wayoprcode" type="java.lang.String">
            <column name="WAYOPRCODE" length="18" />
        </property>
        <property name="slv" type="java.lang.Short">
            <column name="SLV" precision="3" scale="0" />
        </property>
        <property name="rewardid" type="java.lang.Long">
            <column name="REWARDID" precision="14" scale="0" />
        </property>
        <property name="rewardtype" type="java.lang.Short">
            <column name="REWARDTYPE" precision="3" scale="0" />
        </property>
        <property name="rewardstd" type="java.lang.Double">
            <column name="REWARDSTD" precision="14" />
        </property>
        <property name="rewardmonth" type="java.lang.String">
            <column name="REWARDMONTH" length="6" />
        </property>
        <property name="isbudget" type="java.lang.Short">
            <column name="ISBUDGET" precision="3" scale="0" />
        </property>
        <property name="totalsum" type="java.lang.Double">
            <column name="TOTALSUM" precision="22" scale="11" />
        </property>
        <property name="paysum" type="java.lang.Double">
            <column name="PAYSUM" precision="22" scale="11" />
        </property>
        <property name="paymonth1" type="java.lang.String">
            <column name="PAYMONTH1" length="6" />
        </property>
        <property name="paymoney1" type="java.lang.Double">
            <column name="PAYMONEY1" precision="22" scale="11" />
        </property>
        <property name="paymonth2" type="java.lang.String">
            <column name="PAYMONTH2" length="6" />
        </property>
        <property name="paymoney2" type="java.lang.Double">
            <column name="PAYMONEY2" precision="22" scale="11" />
        </property>
        <property name="paymonth3" type="java.lang.String">
            <column name="PAYMONTH3" length="6" />
        </property>
        <property name="paymoney3" type="java.lang.Double">
            <column name="PAYMONEY3" precision="22" scale="11" />
        </property>
        <property name="runtime" type="java.util.Date">
            <column name="RUNTIME" length="7" />
        </property>
        <property name="acctype" type="java.lang.Short">
            <column name="ACCTYPE" precision="3" scale="0" />
        </property>
        <property name="mobile" type="java.lang.String">
            <column name="MOBILE" length="15" />
        </property>
        <property name="assegrade" type="java.lang.Double">
            <column name="ASSEGRADE" precision="5" scale="4" />
        </property>
        <property name="opermobile" type="java.lang.String">
            <column name="OPERMOBILE" length="15" />
        </property>
    </class>
    
    <!-- 统计社会渠道网点酬金池余额 -->
    <sql-query name="com.gmcc.pboss.biz.info.reward.model.statRewardBalance">
    	<return-scalar column="balance" type="long"/>
    	select nvl(sum(paymoney),0) balance from 
		(
		(select sum(paymoney3) paymoney from ch_pw_rewardrecord where 
		to_date(paymonth3,'yyyyMM') >= to_date(:curMonth,'yyyyMM') and rewardtype = :rewardtype 
		and rewardmonth in (:monthA,:monthB,:monthC) and wayid = :wayid group by paymonth3)
		union all 
		(select sum(paymoney2) paymoney from ch_pw_rewardrecord where 
		to_date(paymonth2,'yyyyMM') >= to_date(:curMonth,'yyyyMM') and rewardtype = :rewardtype 
		and rewardmonth in (:monthA,:monthB,:monthC) and wayid=:wayid group by paymonth2)
		)
    </sql-query>
</hibernate-mapping>
