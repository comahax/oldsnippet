<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.gmcc.pboss.menu.model.SaDbWebfunctionitem" table="SA_DB_WEBFUNCTIONITEM" ><!-- schema="PBOSS_ZS" -->
        <id name="funcid" type="java.lang.String">
            <column name="FUNCID" length="32" />
            <generator class="assigned" />
        </id>
        <property name="funcname" type="java.lang.String">
            <column name="FUNCNAME" length="64" />
        </property>
        <property name="parentid" type="java.lang.String">
            <column name="PARENTID" length="32" />
        </property>
        <property name="guiobject" type="java.lang.String">
            <column name="GUIOBJECT" length="256" />
        </property>
        <property name="tiptext" type="java.lang.String">
            <column name="TIPTEXT" length="32" />
        </property>
        <property name="sortorder" type="java.lang.Short">
            <column name="SORTORDER" precision="4" scale="0" />
        </property>
        <property name="createdate" type="java.util.Date">
            <column name="CREATEDATE" length="7" />
        </property>
        <property name="status" type="java.lang.Boolean">
            <column name="STATUS" precision="1" scale="0" >
            	<comment>1,开启; 0,屏蔽</comment>
            </column>
        </property>
        <property name="statusdate" type="java.util.Date">
            <column name="STATUSDATE" length="7" />
        </property>
        <property name="type" type="java.lang.Short">
            <column name="TYPE" precision="4" scale="0">
                <comment>店员 、店主 1 /配送商 3/渠道经理 4</comment>
            </column>
        </property>
    </class>
    <!-- 菜单查询SQL -->
    <sql-query name="com.gmcc.pboss.menu.model.SaDbWebfunctionitem.getMenu">
    	<return class="com.gmcc.pboss.menu.model.SaDbWebfunctionitem"></return>
select t.funcid,t.funcname,t.parentid,t.guiobject,t.tiptext,
t.sortorder,t.createdate,t.status,t.statusdate,t.type 
from sa_db_webfunctionitem t
where t.type=0 or t.type=:type
start with t.funcid='ROOT'
connect by prior t.funcid=t.parentid and t.status=1
order by t.sortorder
	<!-- level, -->
	<!-- order by level -->
    </sql-query>
    <!-- 菜单查询SQL:获取所有菜单项 -->
    <sql-query name="com.gmcc.pboss.menu.model.SaDbWebfunctionitem.getAllMenu">
    	<return class="com.gmcc.pboss.menu.model.SaDbWebfunctionitem"></return>
select t.funcid,t.funcname,t.parentid,t.guiobject,t.tiptext,
t.sortorder,t.createdate,t.status,t.statusdate,t.type 
from sa_db_webfunctionitem t
where t.type is not null
start with t.funcid='ROOT'
connect by prior t.funcid=t.parentid and t.status=1
order by t.sortorder
	<!-- level, -->
	<!-- order by level -->
    </sql-query>
</hibernate-mapping>
