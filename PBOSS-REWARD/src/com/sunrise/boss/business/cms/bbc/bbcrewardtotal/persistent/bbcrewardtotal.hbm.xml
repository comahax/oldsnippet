<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.sunrise.boss.business.cms.bbc.bbcrewardtotal.persistent.BbcRewardtotalVO" table="V_CH_BBC_REWARDTOTAL">
        <id name="totalid" type="java.lang.Long">
            <column name="TOTALID" precision="14" scale="0" />
            <generator class="assigned" />
        </id>
        <property column="WAYID" length="18" name="wayid" type="java.lang.String" />
        <property column="WAYNAME" length="256" name="wayname" type="java.lang.String" />
        <property column="COUNTYCOMPNAME" length="64" name="countycompname" type="java.lang.String" />
        <property column="STARLEVEL" length="2" name="starlevel" type="java.lang.Long" />
        <property column="REWARDTYPE" length="3" name="rewardtype" type="java.lang.Long" />
        <property column="REWARDMONTH" length="6" name="rewardmonth" type="java.lang.String" />
        <property column="PAYMONEY" length="12" name="paymoney" type="java.lang.Double" />
        <property column="OSSRC" length="3" name="ossrc" type="java.lang.Integer" />
        <property column="BATCHNO" length="18" name="batchno" type="java.lang.String" />
    </class>
<sql-query name="bbcRewardtotalQuery">
<return	class="com.sunrise.boss.business.cms.bbc.bbcrewardtotal.persistent.BbcRewardtotalVO" />
	select TOTALID,WAYID,
		 CASE
           WHEN OSSRC = 0 THEN
            (select wayname from CH_PW_WAY where wayid = t.wayid)
           WHEN OSSRC = 1 OR OSSRC = 2 THEN
            (select wayname from CH_BBC_NASWAY where wayid = T.wayid)
         END as wayname,
		(select C.countycompname from CH_PW_WAY W,CH_PW_CNTYCOMPANY C where W.wayid=T.wayid 
		and C.COUNTYCOMPID=W.COUNTYID and rownum=1) as countycompname,
		(select starlevel from CH_PW_WAY where wayid=T.wayid) as starlevel,
		REWARDTYPE,REWARDMONTH,PAYMONEY,OSSRC, BATCHNO
	from CH_BBC_REWARDTOTAL T
</sql-query>
</hibernate-mapping>
